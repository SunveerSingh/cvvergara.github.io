<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PDAL: pdal/plugins/sqlite/io/SQLiteCommon.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PDAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('SQLiteCommon_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SQLiteCommon.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SQLiteCommon_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/******************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">* Copyright (c) 2012, Howard Butler, hobu.inc@gmail.com</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">* All rights reserved.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">* Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* modification, are permitted provided that the following</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* conditions are met:</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">*     * Redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*       notice, this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">*     * Redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">*       notice, this list of conditions and the following disclaimer in</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">*       the documentation and/or other materials provided</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">*       with the distribution.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">*     * Neither the name of Hobu, Inc. or Flaxen Geo Consulting nor the</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">*       names of its contributors may be used to endorse or promote</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">*       products derived from this software without specific prior</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">*       written permission.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">*</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">* &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">* COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">* INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">* BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">* OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">* AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">* OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">* OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">* OF SUCH DAMAGE.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">****************************************************************************/</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Options_8hpp.html">pdal/Options.hpp</a>&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Log_8hpp.html">pdal/Log.hpp</a>&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="XMLSchema_8hpp.html">pdal/XMLSchema.hpp</a>&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;sqlite3.h&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacepdal.html">pdal</a></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="classpdal_1_1column.html">   48</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpdal_1_1column.html">column</a></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classpdal_1_1column.html#a03b30c0b7d62827da88805ca8f7c9b12">   52</a></span>&#160;    <a class="code" href="classpdal_1_1column.html#a03b30c0b7d62827da88805ca8f7c9b12">column</a>() : <a class="code" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">null</a>(true), <a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>(0), <a class="code" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">blobLen</a>(0){};</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classpdal_1_1column.html#abaa025de5d300ac032cbf7fc57fab1f7">   53</a></span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <a class="code" href="classpdal_1_1column.html#abaa025de5d300ac032cbf7fc57fab1f7">column</a>( T v) : <a class="code" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">null</a>(false), <a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>(0), <a class="code" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">blobLen</a>(0)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">data</a> = <a class="code" href="namespacepdal_1_1Utils.html#a19dbb0a5ce84b6f60fea55cd54e674cf">Utils::toString</a>(v);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classpdal_1_1column.html#a7673ed515a54be59ac09f32edc996c0e">   58</a></span>&#160;    <a class="code" href="classpdal_1_1column.html#a7673ed515a54be59ac09f32edc996c0e">column</a>(std::string v) : <a class="code" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">null</a>(false), <a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>(0), <a class="code" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">blobLen</a>(0)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">data</a> = v;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">   63</a></span>&#160;    std::string <a class="code" href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">data</a>;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">   64</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">null</a>;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">   65</a></span>&#160;    std::vector&lt;uint8_t&gt; <a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">   66</a></span>&#160;    std::size_t <a class="code" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">blobLen</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;};</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classpdal_1_1blob.html">   69</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpdal_1_1blob.html">blob</a> : <span class="keyword">public</span> <a class="code" href="classpdal_1_1column.html">column</a></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classpdal_1_1blob.html#a888922df3fc07b85ba01a1a2d03e8e7e">   72</a></span>&#160;    <a class="code" href="classpdal_1_1blob.html#a888922df3fc07b85ba01a1a2d03e8e7e">blob</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* buffer, std::size_t <a class="code" href="namespacepdal_1_1Dimension.html#acf81dae9d5946f3a941f9df154b2329b">size</a>) : <a class="code" href="classpdal_1_1column.html">column</a>()</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>.resize(size);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        std::copy(buffer, buffer+size, <a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>.begin());</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">blobLen</a> = <a class="code" href="namespacepdal_1_1Dimension.html#acf81dae9d5946f3a941f9df154b2329b">size</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">null</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;};</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="namespacepdal.html#ac53816315ca9ccdbc8f7c5de4af278d8">   82</a></span>&#160;<span class="keyword">typedef</span> std::vector&lt;column&gt; <a class="code" href="namespacepdal.html#ac53816315ca9ccdbc8f7c5de4af278d8">row</a>;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="namespacepdal.html#a8fed3ffec9350d2d5d8bd7165a875828">   83</a></span>&#160;<span class="keyword">typedef</span> std::vector&lt;row&gt; <a class="code" href="namespacepdal.html#a8fed3ffec9350d2d5d8bd7165a875828">records</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html">   85</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpdal_1_1Patch.html">Patch</a></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#ac41e5f0512b5b767ad3a1572a14338a8">   88</a></span>&#160;    <a class="code" href="classpdal_1_1Patch.html#ac41e5f0512b5b767ad3a1572a14338a8">Patch</a>() : count(0), remaining(0), m_isCompressed(false), idx(0)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {}</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#ad82864fa575992fce4b4855b010f64d8">   91</a></span>&#160;    <a class="code" href="namespacepdal.html#ac8938002c399580b55015e4d725741a0">point_count_t</a> <a class="code" href="classpdal_1_1Patch.html#ad82864fa575992fce4b4855b010f64d8">count</a>;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#ab020e849122c496c1a958022f7dffc60">   92</a></span>&#160;    <a class="code" href="namespacepdal.html#ac8938002c399580b55015e4d725741a0">point_count_t</a> <a class="code" href="classpdal_1_1Patch.html#ab020e849122c496c1a958022f7dffc60">remaining</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#a7ac78a57372f3f8c06ccfb67db9fbb64">   94</a></span>&#160;    <a class="code" href="classpdal_1_1MetadataNode.html">MetadataNode</a> <a class="code" href="classpdal_1_1Patch.html#a7ac78a57372f3f8c06ccfb67db9fbb64">m_metadata</a>;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#abc31fae3e0dbd96c7a8dcd363a0076ef">   95</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpdal_1_1Patch.html#abc31fae3e0dbd96c7a8dcd363a0076ef">m_isCompressed</a>;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#a325c59afc8993fa279bb2615c243e58b">   96</a></span>&#160;    std::string <a class="code" href="classpdal_1_1Patch.html#a325c59afc8993fa279bb2615c243e58b">m_compVersion</a>;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#a98ab7d6e8d870ca18de5281e7c3d1a34">   97</a></span>&#160;    std::vector&lt;unsigned char&gt; <a class="code" href="classpdal_1_1Patch.html#a98ab7d6e8d870ca18de5281e7c3d1a34">buf</a>;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#a424f882cf8e5c266e3575632615ffc85">   98</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classpdal_1_1Patch.html#a424f882cf8e5c266e3575632615ffc85">idx</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#a1689ef30ae90402784d99c7d7713512c">  100</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1Patch.html#a1689ef30ae90402784d99c7d7713512c">putBytes</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="modernizr_8min_8js.html#ac0431efac4d7c393d1e70b86115cb93f">b</a>, <span class="keywordtype">size_t</span> len) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">while</span>(len --) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            buf.push_back(*b++);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#a0a39ba601df010e4b4ef33080560859f">  106</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="classpdal_1_1Patch.html#a0a39ba601df010e4b4ef33080560859f">getBytes</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">        </span>{ <span class="keywordflow">return</span> buf.data(); }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#ac155ecfd6c082a1f3e4d0359cba13d4e">  109</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classpdal_1_1Patch.html#ac155ecfd6c082a1f3e4d0359cba13d4e">byte_size</a>()</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        { <span class="keywordflow">return</span> buf.size(); }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classpdal_1_1Patch.html#a52e0d510eccc60bd07019b9a1592c873">  112</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1Patch.html#a52e0d510eccc60bd07019b9a1592c873">clear</a>()</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;           buf.clear();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;           count = 0;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;           remaining = 0;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;           idx = 0;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;         }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;};</div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="namespacepdal.html#ab30420dd3876b6a55948cc9738bfc5f8">  120</a></span>&#160;<span class="keyword">typedef</span> std::shared_ptr&lt;Patch&gt; <a class="code" href="namespacepdal.html#ab30420dd3876b6a55948cc9738bfc5f8">PatchPtr</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html">  123</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpdal_1_1SQLite.html">SQLite</a></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a09e5c242ec5a58d5cb3334c3338cd926">  126</a></span>&#160;    <a class="code" href="classpdal_1_1SQLite.html#a09e5c242ec5a58d5cb3334c3338cd926">SQLite</a>(std::string <span class="keyword">const</span>&amp; connection, <a class="code" href="namespacepdal.html#ac34d4f69dbb13543e8fdc53f6b9229c7">LogPtr</a> <a class="code" href="namespacesetup.html#aba4e7eb5c4f47098602e7236a41a7f41">log</a>)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        : m_log(log)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        , m_connection(connection)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        , m_session(0)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        , m_statement(0)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        , m_position(-1)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt; <span class="stringliteral">&quot;Setting up config &quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        sqlite3_shutdown();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        sqlite3_config(SQLITE_CONFIG_LOG, log_callback, <span class="keyword">this</span>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        sqlite3_initialize();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt; <span class="stringliteral">&quot;Set up config &quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt; <span class="stringliteral">&quot;SQLite version: &quot;</span> &lt;&lt; sqlite3_libversion() &lt;&lt; std::endl;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a331c1f2cf32cee0f99c22ae927f6d9b8">  141</a></span>&#160;    <a class="code" href="classpdal_1_1SQLite.html#a331c1f2cf32cee0f99c22ae927f6d9b8">~SQLite</a>()</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (m_session)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#ifdef sqlite3_close_v2</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            sqlite3_close_v2(m_session);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            sqlite3_close(m_session);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        sqlite3_shutdown();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a298826dd199d9cfe15ab31893d633579">  156</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#a298826dd199d9cfe15ab31893d633579">log_callback</a>(<span class="keywordtype">void</span> *p, <span class="keywordtype">int</span> num, <span class="keywordtype">char</span> <span class="keyword">const</span>* msg)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="classpdal_1_1SQLite.html">SQLite</a>* sql = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classpdal_1_1SQLite.html">SQLite</a>*<span class="keyword">&gt;</span>(p);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        sql-&gt;<a class="code" href="classpdal_1_1SQLite.html#a3cd9a2af76d31c09fa1d59ad183db390">log</a>()-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9aa603905470e2a5b8c13e96b579ef0dba">LogLevel::Debug</a>) &lt;&lt; <span class="stringliteral">&quot;SQLite code: &quot;</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            &lt;&lt; num &lt;&lt; <span class="stringliteral">&quot; msg: &#39;&quot;</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            &lt;&lt; std::endl;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a7b98805596d2f182370922af3b0ae1b5">  165</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#a7b98805596d2f182370922af3b0ae1b5">connect</a>(<span class="keywordtype">bool</span> bWrite=<span class="keyword">false</span>)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">if</span> (!m_connection.size())</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="classpdal_1_1pdal__error.html">pdal_error</a>(<span class="stringliteral">&quot;Unable to connect to database: empty connection string [SQLite::connect]&quot;</span>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="pdalinfo__schema_8txt.html#a44bec5bf49a634a3e88d65c84cca3a45">flags</a> = SQLITE_OPEN_NOMUTEX;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">if</span> (bWrite)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt; <span class="stringliteral">&quot;Connecting db for write&quot;</span>&lt;&lt; std::endl;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            flags |= SQLITE_OPEN_READWRITE | SQLITE_OPEN_CREATE;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt; <span class="stringliteral">&quot;Connecting db for read&quot;</span>&lt;&lt; std::endl;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            flags |= SQLITE_OPEN_READONLY;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordtype">int</span> status = sqlite3_open_v2(m_connection.c_str(), &amp;m_session, <a class="code" href="pdalinfo__schema_8txt.html#a44bec5bf49a634a3e88d65c84cca3a45">flags</a>, 0);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">if</span> (status != SQLITE_OK)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            error(<span class="stringliteral">&quot;Unable to open database&quot;</span>, <span class="stringliteral">&quot;connect&quot;</span>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a59336b8d32c097a99c6b38de8786fb6c">  191</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#a59336b8d32c097a99c6b38de8786fb6c">execute</a>(std::string <span class="keyword">const</span>&amp; sql)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        checkSession();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt; <span class="stringliteral">&quot;Executing &#39;&quot;</span> &lt;&lt; sql &lt;&lt;<span class="stringliteral">&quot;&#39;&quot;</span>&lt;&lt; std::endl;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordtype">char</span>* errmsg;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordtype">int</span> status = sqlite3_exec(m_session, sql.c_str(), NULL, NULL, &amp;errmsg);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">if</span> (status != SQLITE_OK)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            std::ostringstream oss;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            std::string msg = std::string(errmsg);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <a class="code" href="namespacepdal_1_1Utils.html#afed0ad4146baafd1973c85e1508ade73">Utils::trimTrailing</a>(msg);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            oss &lt;&lt; <span class="stringliteral">&quot;Database operation failed: &quot;</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; sql &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; with error &#39;&quot;</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            sqlite3_free(errmsg);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            error(oss.str(), <span class="stringliteral">&quot;execute&quot;</span>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a842578deb668ef451e84cfb22b810f25">  211</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#a842578deb668ef451e84cfb22b810f25">begin</a>()</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        execute(<span class="stringliteral">&quot;BEGIN&quot;</span>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a21b535568afccc611d126d6ac9d99ea6">  216</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#a21b535568afccc611d126d6ac9d99ea6">commit</a>()</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        execute(<span class="stringliteral">&quot;COMMIT&quot;</span>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// Executes an SQL query statement and provides the returned rows via</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// an iterator.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// Usage example:</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">//   query(&quot;SELECT * from TABLE&quot;);</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">//     do</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">//     {</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">//       const row* r = get();</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">//       if (!r) break ; // no more rows</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">//       column const&amp; c = r-&gt;at(0); // get 1st column of this row</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">//       ... use c.data ...</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">//     } while (next());</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#ae9c5ece7e8910d31f306db7f547762ef">  234</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#ae9c5ece7e8910d31f306db7f547762ef">query</a>(std::string <span class="keyword">const</span>&amp; query)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        checkSession();</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        m_position = 0;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        m_columns.clear();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        m_data.clear();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        assert(!m_statement);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordtype">int</span> status;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt; <span class="stringliteral">&quot;Querying &#39;&quot;</span> &lt;&lt; query.c_str() &lt;&lt;<span class="stringliteral">&quot;&#39;&quot;</span>&lt;&lt; std::endl;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordtype">char</span> <span class="keyword">const</span>* tail = 0; <span class="comment">// unused;</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        status = sqlite3_prepare_v2(m_session,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                    query.c_str(),</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(query.size()),</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                    &amp;m_statement,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                    &amp;tail);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">if</span> (status != SQLITE_OK)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            error(<span class="stringliteral">&quot;query preparation failed&quot;</span>, <span class="stringliteral">&quot;query&quot;</span>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordtype">int</span> numCols = -1;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">while</span> (status != SQLITE_DONE)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            status = sqlite3_step(m_statement);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">if</span> (SQLITE_ROW == status)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="comment">// only need to set the number of columns once</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span> (-1 == numCols)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    numCols = sqlite3_column_count(m_statement);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                row r;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; numCols; ++v)</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    <span class="keywordflow">if</span> (m_columns.size() != <span class="keyword">static_cast&lt;</span>std::vector&lt;std::string&gt;::size_type <span class="keyword">&gt;</span> (numCols))</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                        std::string ccolumnName = <a class="code" href="namespacepdal_1_1Utils.html#a28e3e2faff94b20f9908e77bc54ed983">Utils::toupper</a>(std::string(sqlite3_column_name(m_statement, v)));</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>* coltype = sqlite3_column_decltype(m_statement, v);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                        <span class="keywordflow">if</span> (!coltype)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                        {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                            coltype = <span class="stringliteral">&quot;unknown&quot;</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        std::string ccolumnType = <a class="code" href="namespacepdal_1_1Utils.html#a28e3e2faff94b20f9908e77bc54ed983">Utils::toupper</a>(std::string(coltype));</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                        m_columns.insert(std::pair&lt;std::string, int32_t&gt;(ccolumnName, v));</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                        m_types.push_back(ccolumnType);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                    <a class="code" href="classpdal_1_1column.html">column</a> <a class="code" href="modernizr_8min_8js.html#ad9d1ac02e33c4aed62ad517a7cb8b3fb">c</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    <span class="keywordflow">if</span> (sqlite3_column_type(m_statement, v) == SQLITE_BLOB)</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        <span class="keywordtype">int</span> len = sqlite3_column_bytes(m_statement, v);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>* buf = (<span class="keyword">const</span> <span class="keywordtype">char</span>*) sqlite3_column_blob(m_statement, v);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                        c.<a class="code" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">blobLen</a> = len;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        c.<a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>.resize(len);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        std::copy(buf, buf+len, c.<a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>.begin());</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sqlite3_column_type(m_statement, v) == SQLITE_NULL)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                        c.<a class="code" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">null</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    } <span class="keywordflow">else</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                        <span class="keywordtype">char</span> <span class="keyword">const</span>* buf =</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                            <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> const*<span class="keyword">&gt;</span>(sqlite3_column_text(m_statement, v));</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        <span class="keywordflow">if</span> (0 == buf)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                            c.<a class="code" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">null</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                            buf = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                        }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        c.<a class="code" href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">data</a> = buf;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    r.push_back(c);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                m_data.push_back(r);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == SQLITE_DONE)</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="comment">// ok</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                error(<span class="stringliteral">&quot;query step failed&quot;</span>, <span class="stringliteral">&quot;query&quot;</span>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        status = sqlite3_finalize(m_statement);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span> (status != SQLITE_OK)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            error(<span class="stringliteral">&quot;query finalization failed&quot;</span>, <span class="stringliteral">&quot;query&quot;</span>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        m_statement = NULL;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a7c48b19827bf02173d4da1e61affe4dc">  338</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpdal_1_1SQLite.html#a7c48b19827bf02173d4da1e61affe4dc">next</a>()</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        m_position++;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">if</span> (m_position &gt;= m_data.size())</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a45029783a06cf4d455673f1e05090c94">  347</a></span>&#160;    <span class="keyword">const</span> row* <span class="keyword">get</span>() <span class="keyword">const</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">if</span> ( m_position &gt;= m_data.size() )</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">return</span> &amp;m_data[m_position];</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a551474b1b2a96f24340ddbb84bcccddc">  355</a></span>&#160;    std::map&lt;std::string, int32_t&gt; <span class="keyword">const</span>&amp; <a class="code" href="classpdal_1_1SQLite.html#a551474b1b2a96f24340ddbb84bcccddc">columns</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">return</span> m_columns;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#ac28097bf95f81e657b4fe8b6fdb85e4a">  360</a></span>&#160;    std::vector&lt;std::string&gt; <span class="keyword">const</span>&amp; <a class="code" href="classpdal_1_1SQLite.html#ac28097bf95f81e657b4fe8b6fdb85e4a">types</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span> m_types;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#aafa53ed22800a7a76e71216a98d4b2f3">  366</a></span>&#160;    int64_t <a class="code" href="classpdal_1_1SQLite.html#aafa53ed22800a7a76e71216a98d4b2f3">last_row_id</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">return</span> (int64_t)sqlite3_last_insert_rowid(m_session);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a0af8d4b5f5df0d8fa8e1a4d38b058d93">  371</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#a0af8d4b5f5df0d8fa8e1a4d38b058d93">insert</a>(std::string <span class="keyword">const</span>&amp; statement, records <span class="keyword">const</span>&amp; rs)</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        checkSession();</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordtype">int</span> status;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        records::size_type rows = rs.size();</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        assert(!m_statement);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        status = sqlite3_prepare_v2(m_session,</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                    statement.c_str(),</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(statement.size()),</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                    &amp;m_statement,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                    0);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span> (status != SQLITE_OK)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            error(<span class="stringliteral">&quot;insert preparation failed&quot;</span>, <span class="stringliteral">&quot;insert&quot;</span>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt; <span class="stringliteral">&quot;Inserting &#39;&quot;</span> &lt;&lt; statement &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>&lt;&lt;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            std::endl;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">for</span> (records::size_type r = 0; r &lt; rows; ++r)</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordtype">int</span> <span class="keyword">const</span> totalPositions = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(rs[0].size());</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pos = 0; pos &lt;= totalPositions-1; ++pos)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keyword">const</span> <a class="code" href="classpdal_1_1column.html">column</a>&amp; <a class="code" href="modernizr_8min_8js.html#ad9d1ac02e33c4aed62ad517a7cb8b3fb">c</a> = rs[r][pos];</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <span class="keywordflow">if</span> (c.<a class="code" href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">null</a>)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    status = sqlite3_bind_null(m_statement, pos+1);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c.<a class="code" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">blobLen</a> != 0)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    status = sqlite3_bind_blob(m_statement, pos+1,</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                               &amp;(c.<a class="code" href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">blobBuf</a>.front()),</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                                               static_cast&lt;int&gt;(c.<a class="code" href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">blobLen</a>),</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                               SQLITE_STATIC);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    status = sqlite3_bind_text(m_statement, pos+1,</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                               c.<a class="code" href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">data</a>.c_str(),</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                               <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(c.<a class="code" href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">data</a>.length()),</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                               SQLITE_STATIC);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                <span class="keywordflow">if</span> (SQLITE_OK != status)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    std::ostringstream oss;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    oss &lt;&lt; <span class="stringliteral">&quot;insert bind failed (row=&quot;</span> &lt;&lt; r</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                        &lt;&lt;<span class="stringliteral">&quot;, position=&quot;</span> &lt;&lt; pos</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    error(oss.str(), <span class="stringliteral">&quot;insert&quot;</span>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            status = sqlite3_step(m_statement);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordflow">if</span> (status != SQLITE_DONE &amp;&amp; status != SQLITE_ROW)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                error(<span class="stringliteral">&quot;insert step failed&quot;</span>, <span class="stringliteral">&quot;insert&quot;</span>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        status = sqlite3_finalize(m_statement);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">if</span> (status != SQLITE_OK)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            error(<span class="stringliteral">&quot;insert finalize failed&quot;</span>, <span class="stringliteral">&quot;insert&quot;</span>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        m_statement = NULL;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a713f3cf29b2ad8555ca79b8231e6d466">  445</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpdal_1_1SQLite.html#a713f3cf29b2ad8555ca79b8231e6d466">loadSpatialite</a>(<span class="keyword">const</span> std::string&amp; module_name=<span class="stringliteral">&quot;&quot;</span>)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        std::string so_extension;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        std::string lib_extension;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">#ifdef __APPLE__</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        so_extension = <span class="stringliteral">&quot;.dylib&quot;</span>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        lib_extension = <span class="stringliteral">&quot;mod_&quot;</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">#if defined(__linux__) || defined(__FreeBSD_kernel__)</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        so_extension = <span class="stringliteral">&quot;.so&quot;</span>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">#ifdef MOD_SPATIALITE</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        lib_extension = <span class="stringliteral">&quot;mod_&quot;</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        lib_extension = <span class="stringliteral">&quot;lib&quot;</span>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        so_extension = <span class="stringliteral">&quot;.dll&quot;</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        lib_extension = <span class="stringliteral">&quot;pdal&quot;</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">// #if !defined(sqlite3_enable_load_extension)</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">// #error &quot;sqlite3_enable_load_extension and spatialite is required for sqlite PDAL support&quot;</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">// #endif</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordtype">int</span> status = sqlite3_enable_load_extension(m_session, 1);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">if</span> (status != SQLITE_OK)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            error(<span class="stringliteral">&quot;spatialite library load failed&quot;</span>, <span class="stringliteral">&quot;loadSpatialite&quot;</span>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        std::ostringstream oss;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;SELECT load_extension(&#39;&quot;</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">if</span> (module_name.size())</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            oss &lt;&lt; module_name;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            oss &lt;&lt; lib_extension &lt;&lt; <span class="stringliteral">&quot;spatialite&quot;</span> &lt;&lt; so_extension;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;&#39;, &#39;sqlite3_modspatialite_init&quot;</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;&#39;)&quot;</span>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        std::string sql(oss.str());</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        execute(sql);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        oss.str(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        m_log-&gt;get(<a class="code" href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">LogLevel::Debug3</a>) &lt;&lt;  <span class="stringliteral">&quot;SpatiaLite version: &quot;</span> &lt;&lt; getSpatialiteVersion() &lt;&lt; std::endl;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a6dead16eba905beb859299b194bcd77d">  501</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpdal_1_1SQLite.html#a6dead16eba905beb859299b194bcd77d">haveSpatialite</a>()</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">return</span> doesTableExist(<span class="stringliteral">&quot;geometry_columns&quot;</span>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#ac785bd044bd42ceb65cc4767be1ec7e2">  506</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#ac785bd044bd42ceb65cc4767be1ec7e2">initSpatialiteMetadata</a>()</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        execute(<span class="stringliteral">&quot;SELECT InitSpatialMetadata(1)&quot;</span>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#aa6fd0488012f907066989629e43205c9">  511</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classpdal_1_1SQLite.html#aa6fd0488012f907066989629e43205c9">doesTableExist</a>(std::string <span class="keyword">const</span>&amp; <a class="code" href="namespacepdal_1_1Dimension.html#af3176b0b7e6b4be000317846cf7c2718">name</a>)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keyword">const</span> std::string sql(<span class="stringliteral">&quot;SELECT name FROM sqlite_master WHERE type = &#39;table&#39;&quot;</span>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        query(sql);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">do</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keyword">const</span> row* r = <span class="keyword">get</span>();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">if</span> (!r)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                break ;<span class="comment">// didn&#39;t have anything</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <a class="code" href="classpdal_1_1column.html">column</a> <span class="keyword">const</span>&amp; <a class="code" href="modernizr_8min_8js.html#ad9d1ac02e33c4aed62ad517a7cb8b3fb">c</a> = r-&gt;at(0); <span class="comment">// First column is table name!</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespacepdal_1_1Utils.html#acb34cb790a22dbce1a05582ba4917566">Utils::iequals</a>(c.<a class="code" href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">data</a>, name))</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        } <span class="keywordflow">while</span> (next());</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a7fb604d74e3ceabf94595a68a2e11ef8">  532</a></span>&#160;    std::string <a class="code" href="classpdal_1_1SQLite.html#a7fb604d74e3ceabf94595a68a2e11ef8">getSpatialiteVersion</a>()</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="comment">// TODO: ought to parse this numerically, so we can do version checks</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keyword">const</span> std::string sql(<span class="stringliteral">&quot;SELECT spatialite_version()&quot;</span>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        query(sql);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keyword">const</span> row* r = <span class="keyword">get</span>();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        assert(r); <span class="comment">// should get back exactly one row</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        std::string ver = r-&gt;at(0).data;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">return</span> ver;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a8efd427a41b1cf3ea00c7cb54ea7caef">  544</a></span>&#160;    std::string <a class="code" href="classpdal_1_1SQLite.html#a8efd427a41b1cf3ea00c7cb54ea7caef">getSQLiteVersion</a>()</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;         <span class="comment">// TODO: parse this numerically, so we can do version checks</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;         std::string v(sqlite3_libversion());</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;         <span class="keywordflow">return</span> v;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a6b22c65b3a98a72904da65137798345f">  551</a></span>&#160;    <a class="code" href="namespacepdal.html#ac34d4f69dbb13543e8fdc53f6b9229c7">LogPtr</a> <a class="code" href="namespacesetup.html#aba4e7eb5c4f47098602e7236a41a7f41">log</a>() { <span class="keywordflow">return</span> m_log; };</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="namespacepdal.html#ac34d4f69dbb13543e8fdc53f6b9229c7">pdal::LogPtr</a> <a class="code" href="classpdal_1_1SQLite.html#a6b22c65b3a98a72904da65137798345f">m_log</a>;</div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#ae9fb5b8b7820a4e64fd0e4e79f37cded">  555</a></span>&#160;    std::string <a class="code" href="classpdal_1_1SQLite.html#ae9fb5b8b7820a4e64fd0e4e79f37cded">m_connection</a>;</div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a0329353bb01a2e5947a05e46cead29f1">  556</a></span>&#160;    sqlite3* <a class="code" href="classpdal_1_1SQLite.html#a0329353bb01a2e5947a05e46cead29f1">m_session</a>;</div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a6a195984e2f75fa37bf06be915fdf86d">  557</a></span>&#160;    sqlite3_stmt* <a class="code" href="classpdal_1_1SQLite.html#a6a195984e2f75fa37bf06be915fdf86d">m_statement</a>;</div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#aa6a3d3388b74628dc5d5edfc714ca4c0">  558</a></span>&#160;    records <a class="code" href="classpdal_1_1SQLite.html#aa6a3d3388b74628dc5d5edfc714ca4c0">m_data</a>;</div><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a2d3d4b2c8c13ce0affc85da13e467b79">  559</a></span>&#160;    records::size_type <a class="code" href="classpdal_1_1SQLite.html#a2d3d4b2c8c13ce0affc85da13e467b79">m_position</a>;</div><div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a88c46ae45634b6d2edd827f99dd07c1d">  560</a></span>&#160;    std::map&lt;std::string, int32_t&gt; <a class="code" href="classpdal_1_1SQLite.html#a88c46ae45634b6d2edd827f99dd07c1d">m_columns</a>;</div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a3ef37d4b58caefed65dad66dd31d8acc">  561</a></span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="classpdal_1_1SQLite.html#a3ef37d4b58caefed65dad66dd31d8acc">m_types</a>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#ad8e6f5d8fca449f756b45d6c5799a001">  563</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#ad8e6f5d8fca449f756b45d6c5799a001">error</a>(std::string <span class="keyword">const</span>&amp; userMssg, std::string <span class="keyword">const</span>&amp; func)</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordtype">char</span> <span class="keyword">const</span>* sqlMssg = sqlite3_errmsg(m_session);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        std::ostringstream oss;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        oss &lt;&lt; userMssg</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; [SQLite::&quot;</span> &lt;&lt; func &lt;&lt; <span class="stringliteral">&quot;]&quot;</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;           &lt;&lt; std::endl</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;sqlite3 error: &quot;</span> &lt;&lt; sqlMssg;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classpdal_1_1pdal__error.html">pdal_error</a>(oss.str());</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="classpdal_1_1SQLite.html#a7cd8ae4194a777ecbb61e4427f27dd23">  575</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classpdal_1_1SQLite.html#a7cd8ae4194a777ecbb61e4427f27dd23">checkSession</a>()</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="keywordflow">if</span> (!m_session)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="classpdal_1_1pdal__error.html">pdal_error</a>(<span class="stringliteral">&quot;Database session not opened [SQLite::execute]&quot;</span>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;};</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;} <span class="comment">// namespace pdal</span></div><div class="ttc" id="classpdal_1_1SQLite_html_ac785bd044bd42ceb65cc4767be1ec7e2"><div class="ttname"><a href="classpdal_1_1SQLite.html#ac785bd044bd42ceb65cc4767be1ec7e2">pdal::SQLite::initSpatialiteMetadata</a></div><div class="ttdeci">void initSpatialiteMetadata()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00506">SQLiteCommon.hpp:506</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_ab020e849122c496c1a958022f7dffc60"><div class="ttname"><a href="classpdal_1_1Patch.html#ab020e849122c496c1a958022f7dffc60">pdal::Patch::remaining</a></div><div class="ttdeci">point_count_t remaining</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00092">SQLiteCommon.hpp:92</a></div></div>
<div class="ttc" id="classpdal_1_1blob_html"><div class="ttname"><a href="classpdal_1_1blob.html">pdal::blob</a></div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00069">SQLiteCommon.hpp:69</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_a424f882cf8e5c266e3575632615ffc85"><div class="ttname"><a href="classpdal_1_1Patch.html#a424f882cf8e5c266e3575632615ffc85">pdal::Patch::idx</a></div><div class="ttdeci">size_t idx</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00098">SQLiteCommon.hpp:98</a></div></div>
<div class="ttc" id="XMLSchema_8hpp_html"><div class="ttname"><a href="XMLSchema_8hpp.html">XMLSchema.hpp</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_aa6fd0488012f907066989629e43205c9"><div class="ttname"><a href="classpdal_1_1SQLite.html#aa6fd0488012f907066989629e43205c9">pdal::SQLite::doesTableExist</a></div><div class="ttdeci">bool doesTableExist(std::string const &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00511">SQLiteCommon.hpp:511</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a298826dd199d9cfe15ab31893d633579"><div class="ttname"><a href="classpdal_1_1SQLite.html#a298826dd199d9cfe15ab31893d633579">pdal::SQLite::log_callback</a></div><div class="ttdeci">static void log_callback(void *p, int num, char const *msg)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00156">SQLiteCommon.hpp:156</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_a1689ef30ae90402784d99c7d7713512c"><div class="ttname"><a href="classpdal_1_1Patch.html#a1689ef30ae90402784d99c7d7713512c">pdal::Patch::putBytes</a></div><div class="ttdeci">void putBytes(const unsigned char *b, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00100">SQLiteCommon.hpp:100</a></div></div>
<div class="ttc" id="namespacepdal_html_ac53816315ca9ccdbc8f7c5de4af278d8"><div class="ttname"><a href="namespacepdal.html#ac53816315ca9ccdbc8f7c5de4af278d8">pdal::row</a></div><div class="ttdeci">std::vector&lt; column &gt; row</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00082">SQLiteCommon.hpp:82</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_aa6a3d3388b74628dc5d5edfc714ca4c0"><div class="ttname"><a href="classpdal_1_1SQLite.html#aa6a3d3388b74628dc5d5edfc714ca4c0">pdal::SQLite::m_data</a></div><div class="ttdeci">records m_data</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00558">SQLiteCommon.hpp:558</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_ac155ecfd6c082a1f3e4d0359cba13d4e"><div class="ttname"><a href="classpdal_1_1Patch.html#ac155ecfd6c082a1f3e4d0359cba13d4e">pdal::Patch::byte_size</a></div><div class="ttdeci">size_t byte_size()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00109">SQLiteCommon.hpp:109</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a7c48b19827bf02173d4da1e61affe4dc"><div class="ttname"><a href="classpdal_1_1SQLite.html#a7c48b19827bf02173d4da1e61affe4dc">pdal::SQLite::next</a></div><div class="ttdeci">bool next()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00338">SQLiteCommon.hpp:338</a></div></div>
<div class="ttc" id="namespacepdal_html_a8fed3ffec9350d2d5d8bd7165a875828"><div class="ttname"><a href="namespacepdal.html#a8fed3ffec9350d2d5d8bd7165a875828">pdal::records</a></div><div class="ttdeci">std::vector&lt; row &gt; records</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00083">SQLiteCommon.hpp:83</a></div></div>
<div class="ttc" id="classpdal_1_1column_html_a7673ed515a54be59ac09f32edc996c0e"><div class="ttname"><a href="classpdal_1_1column.html#a7673ed515a54be59ac09f32edc996c0e">pdal::column::column</a></div><div class="ttdeci">column(std::string v)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00058">SQLiteCommon.hpp:58</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_ae9c5ece7e8910d31f306db7f547762ef"><div class="ttname"><a href="classpdal_1_1SQLite.html#ae9c5ece7e8910d31f306db7f547762ef">pdal::SQLite::query</a></div><div class="ttdeci">void query(std::string const &amp;query)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00234">SQLiteCommon.hpp:234</a></div></div>
<div class="ttc" id="modernizr_8min_8js_html_ad9d1ac02e33c4aed62ad517a7cb8b3fb"><div class="ttname"><a href="modernizr_8min_8js.html#ad9d1ac02e33c4aed62ad517a7cb8b3fb">c</a></div><div class="ttdeci">function c</div><div class="ttdef"><b>Definition:</b> <a href="modernizr_8min_8js_source.html#l00004">modernizr.min.js:4</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a3cd9a2af76d31c09fa1d59ad183db390"><div class="ttname"><a href="classpdal_1_1SQLite.html#a3cd9a2af76d31c09fa1d59ad183db390">pdal::SQLite::log</a></div><div class="ttdeci">LogPtr log()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00551">SQLiteCommon.hpp:551</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_a0a39ba601df010e4b4ef33080560859f"><div class="ttname"><a href="classpdal_1_1Patch.html#a0a39ba601df010e4b4ef33080560859f">pdal::Patch::getBytes</a></div><div class="ttdeci">const unsigned char * getBytes() const </div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00106">SQLiteCommon.hpp:106</a></div></div>
<div class="ttc" id="namespacepdal_html_ab30420dd3876b6a55948cc9738bfc5f8"><div class="ttname"><a href="namespacepdal.html#ab30420dd3876b6a55948cc9738bfc5f8">pdal::PatchPtr</a></div><div class="ttdeci">std::shared_ptr&lt; Patch &gt; PatchPtr</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00120">SQLiteCommon.hpp:120</a></div></div>
<div class="ttc" id="Options_8hpp_html"><div class="ttname"><a href="Options_8hpp.html">Options.hpp</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html"><div class="ttname"><a href="classpdal_1_1SQLite.html">pdal::SQLite</a></div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00123">SQLiteCommon.hpp:123</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a713f3cf29b2ad8555ca79b8231e6d466"><div class="ttname"><a href="classpdal_1_1SQLite.html#a713f3cf29b2ad8555ca79b8231e6d466">pdal::SQLite::loadSpatialite</a></div><div class="ttdeci">bool loadSpatialite(const std::string &amp;module_name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00445">SQLiteCommon.hpp:445</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a7cd8ae4194a777ecbb61e4427f27dd23"><div class="ttname"><a href="classpdal_1_1SQLite.html#a7cd8ae4194a777ecbb61e4427f27dd23">pdal::SQLite::checkSession</a></div><div class="ttdeci">void checkSession()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00575">SQLiteCommon.hpp:575</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_ad8e6f5d8fca449f756b45d6c5799a001"><div class="ttname"><a href="classpdal_1_1SQLite.html#ad8e6f5d8fca449f756b45d6c5799a001">pdal::SQLite::error</a></div><div class="ttdeci">void error(std::string const &amp;userMssg, std::string const &amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00563">SQLiteCommon.hpp:563</a></div></div>
<div class="ttc" id="classpdal_1_1column_html_abaa025de5d300ac032cbf7fc57fab1f7"><div class="ttname"><a href="classpdal_1_1column.html#abaa025de5d300ac032cbf7fc57fab1f7">pdal::column::column</a></div><div class="ttdeci">column(T v)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00053">SQLiteCommon.hpp:53</a></div></div>
<div class="ttc" id="namespacepdal_html_ac34d4f69dbb13543e8fdc53f6b9229c7"><div class="ttname"><a href="namespacepdal.html#ac34d4f69dbb13543e8fdc53f6b9229c7">pdal::LogPtr</a></div><div class="ttdeci">std::shared_ptr&lt; Log &gt; LogPtr</div><div class="ttdef"><b>Definition:</b> <a href="Log_8hpp_source.html#l00148">Log.hpp:148</a></div></div>
<div class="ttc" id="classpdal_1_1MetadataNode_html"><div class="ttname"><a href="classpdal_1_1MetadataNode.html">pdal::MetadataNode</a></div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8hpp_source.html#l00339">Metadata.hpp:339</a></div></div>
<div class="ttc" id="modernizr_8min_8js_html_ac0431efac4d7c393d1e70b86115cb93f"><div class="ttname"><a href="modernizr_8min_8js.html#ac0431efac4d7c393d1e70b86115cb93f">b</a></div><div class="ttdeci">function b</div><div class="ttdef"><b>Definition:</b> <a href="modernizr_8min_8js_source.html#l00004">modernizr.min.js:4</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_abc31fae3e0dbd96c7a8dcd363a0076ef"><div class="ttname"><a href="classpdal_1_1Patch.html#abc31fae3e0dbd96c7a8dcd363a0076ef">pdal::Patch::m_isCompressed</a></div><div class="ttdeci">bool m_isCompressed</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00095">SQLiteCommon.hpp:95</a></div></div>
<div class="ttc" id="namespacepdal_html"><div class="ttname"><a href="namespacepdal.html">pdal</a></div><div class="ttdef"><b>Definition:</b> <a href="Dimension_8hpp_source.html#l00013">Dimension.hpp:13</a></div></div>
<div class="ttc" id="namespacepdal_1_1Utils_html_afed0ad4146baafd1973c85e1508ade73"><div class="ttname"><a href="namespacepdal_1_1Utils.html#afed0ad4146baafd1973c85e1508ade73">pdal::Utils::trimTrailing</a></div><div class="ttdeci">PDAL_DLL void trimTrailing(std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="Utils_8cpp_source.html#l00160">Utils.cpp:160</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a551474b1b2a96f24340ddbb84bcccddc"><div class="ttname"><a href="classpdal_1_1SQLite.html#a551474b1b2a96f24340ddbb84bcccddc">pdal::SQLite::columns</a></div><div class="ttdeci">std::map&lt; std::string, int32_t &gt; const &amp; columns() const </div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00355">SQLiteCommon.hpp:355</a></div></div>
<div class="ttc" id="classpdal_1_1pdal__error_html"><div class="ttname"><a href="classpdal_1_1pdal__error.html">pdal::pdal_error</a></div><div class="ttdef"><b>Definition:</b> <a href="pdal__types_8hpp_source.html#l00220">pdal_types.hpp:220</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a6dead16eba905beb859299b194bcd77d"><div class="ttname"><a href="classpdal_1_1SQLite.html#a6dead16eba905beb859299b194bcd77d">pdal::SQLite::haveSpatialite</a></div><div class="ttdeci">bool haveSpatialite()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00501">SQLiteCommon.hpp:501</a></div></div>
<div class="ttc" id="namespacepdal_1_1Utils_html_a19dbb0a5ce84b6f60fea55cd54e674cf"><div class="ttname"><a href="namespacepdal_1_1Utils.html#a19dbb0a5ce84b6f60fea55cd54e674cf">pdal::Utils::toString</a></div><div class="ttdeci">std::string toString(const T &amp;from)</div><div class="ttdef"><b>Definition:</b> <a href="Utils_8hpp_source.html#l00746">Utils.hpp:746</a></div></div>
<div class="ttc" id="classpdal_1_1column_html_aeb04b7244333f6da6dbf71efa7bb7f83"><div class="ttname"><a href="classpdal_1_1column.html#aeb04b7244333f6da6dbf71efa7bb7f83">pdal::column::data</a></div><div class="ttdeci">std::string data</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00063">SQLiteCommon.hpp:63</a></div></div>
<div class="ttc" id="classpdal_1_1column_html_a3248bfbdcd7efcbfc88d31a1c3cd83e1"><div class="ttname"><a href="classpdal_1_1column.html#a3248bfbdcd7efcbfc88d31a1c3cd83e1">pdal::column::blobBuf</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; blobBuf</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00065">SQLiteCommon.hpp:65</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a3ef37d4b58caefed65dad66dd31d8acc"><div class="ttname"><a href="classpdal_1_1SQLite.html#a3ef37d4b58caefed65dad66dd31d8acc">pdal::SQLite::m_types</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_types</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00561">SQLiteCommon.hpp:561</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_a7ac78a57372f3f8c06ccfb67db9fbb64"><div class="ttname"><a href="classpdal_1_1Patch.html#a7ac78a57372f3f8c06ccfb67db9fbb64">pdal::Patch::m_metadata</a></div><div class="ttdeci">MetadataNode m_metadata</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00094">SQLiteCommon.hpp:94</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a6a195984e2f75fa37bf06be915fdf86d"><div class="ttname"><a href="classpdal_1_1SQLite.html#a6a195984e2f75fa37bf06be915fdf86d">pdal::SQLite::m_statement</a></div><div class="ttdeci">sqlite3_stmt * m_statement</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00557">SQLiteCommon.hpp:557</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a0af8d4b5f5df0d8fa8e1a4d38b058d93"><div class="ttname"><a href="classpdal_1_1SQLite.html#a0af8d4b5f5df0d8fa8e1a4d38b058d93">pdal::SQLite::insert</a></div><div class="ttdeci">void insert(std::string const &amp;statement, records const &amp;rs)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00371">SQLiteCommon.hpp:371</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_a98ab7d6e8d870ca18de5281e7c3d1a34"><div class="ttname"><a href="classpdal_1_1Patch.html#a98ab7d6e8d870ca18de5281e7c3d1a34">pdal::Patch::buf</a></div><div class="ttdeci">std::vector&lt; unsigned char &gt; buf</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00097">SQLiteCommon.hpp:97</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_ad82864fa575992fce4b4855b010f64d8"><div class="ttname"><a href="classpdal_1_1Patch.html#ad82864fa575992fce4b4855b010f64d8">pdal::Patch::count</a></div><div class="ttdeci">point_count_t count</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00091">SQLiteCommon.hpp:91</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a8efd427a41b1cf3ea00c7cb54ea7caef"><div class="ttname"><a href="classpdal_1_1SQLite.html#a8efd427a41b1cf3ea00c7cb54ea7caef">pdal::SQLite::getSQLiteVersion</a></div><div class="ttdeci">std::string getSQLiteVersion()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00544">SQLiteCommon.hpp:544</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_ac28097bf95f81e657b4fe8b6fdb85e4a"><div class="ttname"><a href="classpdal_1_1SQLite.html#ac28097bf95f81e657b4fe8b6fdb85e4a">pdal::SQLite::types</a></div><div class="ttdeci">std::vector&lt; std::string &gt; const &amp; types() const </div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00360">SQLiteCommon.hpp:360</a></div></div>
<div class="ttc" id="namespacesetup_html_aba4e7eb5c4f47098602e7236a41a7f41"><div class="ttname"><a href="namespacesetup.html#aba4e7eb5c4f47098602e7236a41a7f41">setup.log</a></div><div class="ttdeci">log</div><div class="ttdef"><b>Definition:</b> <a href="setup_8py_source.html#l00033">setup.py:33</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a842578deb668ef451e84cfb22b810f25"><div class="ttname"><a href="classpdal_1_1SQLite.html#a842578deb668ef451e84cfb22b810f25">pdal::SQLite::begin</a></div><div class="ttdeci">void begin()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00211">SQLiteCommon.hpp:211</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_ac41e5f0512b5b767ad3a1572a14338a8"><div class="ttname"><a href="classpdal_1_1Patch.html#ac41e5f0512b5b767ad3a1572a14338a8">pdal::Patch::Patch</a></div><div class="ttdeci">Patch()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00088">SQLiteCommon.hpp:88</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_a52e0d510eccc60bd07019b9a1592c873"><div class="ttname"><a href="classpdal_1_1Patch.html#a52e0d510eccc60bd07019b9a1592c873">pdal::Patch::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00112">SQLiteCommon.hpp:112</a></div></div>
<div class="ttc" id="namespacepdal_1_1Utils_html_acb34cb790a22dbce1a05582ba4917566"><div class="ttname"><a href="namespacepdal_1_1Utils.html#acb34cb790a22dbce1a05582ba4917566">pdal::Utils::iequals</a></div><div class="ttdeci">bool iequals(const std::string &amp;s, const std::string &amp;s2)</div><div class="ttdef"><b>Definition:</b> <a href="Utils_8hpp_source.html#l00174">Utils.hpp:174</a></div></div>
<div class="ttc" id="namespacepdal_html_aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f"><div class="ttname"><a href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9a2b5ade85865041f059e709ff4bd8b46f">pdal::LogLevel::Debug3</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a0329353bb01a2e5947a05e46cead29f1"><div class="ttname"><a href="classpdal_1_1SQLite.html#a0329353bb01a2e5947a05e46cead29f1">pdal::SQLite::m_session</a></div><div class="ttdeci">sqlite3 * m_session</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00556">SQLiteCommon.hpp:556</a></div></div>
<div class="ttc" id="namespacepdal_html_ac8938002c399580b55015e4d725741a0"><div class="ttname"><a href="namespacepdal.html#ac8938002c399580b55015e4d725741a0">pdal::point_count_t</a></div><div class="ttdeci">uint64_t point_count_t</div><div class="ttdef"><b>Definition:</b> <a href="pdal__types_8hpp_source.html#l00052">pdal_types.hpp:52</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html"><div class="ttname"><a href="classpdal_1_1Patch.html">pdal::Patch</a></div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00085">SQLiteCommon.hpp:85</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_ae9fb5b8b7820a4e64fd0e4e79f37cded"><div class="ttname"><a href="classpdal_1_1SQLite.html#ae9fb5b8b7820a4e64fd0e4e79f37cded">pdal::SQLite::m_connection</a></div><div class="ttdeci">std::string m_connection</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00555">SQLiteCommon.hpp:555</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a21b535568afccc611d126d6ac9d99ea6"><div class="ttname"><a href="classpdal_1_1SQLite.html#a21b535568afccc611d126d6ac9d99ea6">pdal::SQLite::commit</a></div><div class="ttdeci">void commit()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00216">SQLiteCommon.hpp:216</a></div></div>
<div class="ttc" id="namespacepdal_1_1Utils_html_a28e3e2faff94b20f9908e77bc54ed983"><div class="ttname"><a href="namespacepdal_1_1Utils.html#a28e3e2faff94b20f9908e77bc54ed983">pdal::Utils::toupper</a></div><div class="ttdeci">std::string toupper(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="Utils_8hpp_source.html#l00159">Utils.hpp:159</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a7b98805596d2f182370922af3b0ae1b5"><div class="ttname"><a href="classpdal_1_1SQLite.html#a7b98805596d2f182370922af3b0ae1b5">pdal::SQLite::connect</a></div><div class="ttdeci">void connect(bool bWrite=false)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00165">SQLiteCommon.hpp:165</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a2d3d4b2c8c13ce0affc85da13e467b79"><div class="ttname"><a href="classpdal_1_1SQLite.html#a2d3d4b2c8c13ce0affc85da13e467b79">pdal::SQLite::m_position</a></div><div class="ttdeci">records::size_type m_position</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00559">SQLiteCommon.hpp:559</a></div></div>
<div class="ttc" id="classpdal_1_1column_html_a28816ddd706b218684adba24e4c44a62"><div class="ttname"><a href="classpdal_1_1column.html#a28816ddd706b218684adba24e4c44a62">pdal::column::blobLen</a></div><div class="ttdeci">std::size_t blobLen</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00066">SQLiteCommon.hpp:66</a></div></div>
<div class="ttc" id="namespacepdal_html_aa7a29f86b8df532025fc06c436cae2a9aa603905470e2a5b8c13e96b579ef0dba"><div class="ttname"><a href="namespacepdal.html#aa7a29f86b8df532025fc06c436cae2a9aa603905470e2a5b8c13e96b579ef0dba">pdal::LogLevel::Debug</a></div></div>
<div class="ttc" id="pdalinfo__schema_8txt_html_a44bec5bf49a634a3e88d65c84cca3a45"><div class="ttname"><a href="pdalinfo__schema_8txt.html#a44bec5bf49a634a3e88d65c84cca3a45">flags</a></div><div class="ttdeci">Schema point oriented schema has dimensions and a total size of it should always be included if and they must be marked in sequence of return The first return will have a Return Number of the second a Return Number of and so on up to five a laser data point may be return and a bit value of is a negative scan the field is now mandatory If a point has never been this byte must be set to zero There are no user defined classes since both point format and point format supply bits per point for user defined operations Note that the format for classification is a bit encoded field with the lower five bits used for class and the three high bits used for flags</div><div class="ttdef"><b>Definition:</b> <a href="pdalinfo__schema_8txt_source.html#l00266">pdalinfo_schema.txt:266</a></div></div>
<div class="ttc" id="classpdal_1_1column_html_a87bf57f5d7fcaac96f9d8282f2f11714"><div class="ttname"><a href="classpdal_1_1column.html#a87bf57f5d7fcaac96f9d8282f2f11714">pdal::column::null</a></div><div class="ttdeci">bool null</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00064">SQLiteCommon.hpp:64</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a59336b8d32c097a99c6b38de8786fb6c"><div class="ttname"><a href="classpdal_1_1SQLite.html#a59336b8d32c097a99c6b38de8786fb6c">pdal::SQLite::execute</a></div><div class="ttdeci">void execute(std::string const &amp;sql)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00191">SQLiteCommon.hpp:191</a></div></div>
<div class="ttc" id="Log_8hpp_html"><div class="ttname"><a href="Log_8hpp.html">Log.hpp</a></div></div>
<div class="ttc" id="classpdal_1_1Patch_html_a325c59afc8993fa279bb2615c243e58b"><div class="ttname"><a href="classpdal_1_1Patch.html#a325c59afc8993fa279bb2615c243e58b">pdal::Patch::m_compVersion</a></div><div class="ttdeci">std::string m_compVersion</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00096">SQLiteCommon.hpp:96</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a6b22c65b3a98a72904da65137798345f"><div class="ttname"><a href="classpdal_1_1SQLite.html#a6b22c65b3a98a72904da65137798345f">pdal::SQLite::m_log</a></div><div class="ttdeci">pdal::LogPtr m_log</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00551">SQLiteCommon.hpp:551</a></div></div>
<div class="ttc" id="classpdal_1_1column_html_a03b30c0b7d62827da88805ca8f7c9b12"><div class="ttname"><a href="classpdal_1_1column.html#a03b30c0b7d62827da88805ca8f7c9b12">pdal::column::column</a></div><div class="ttdeci">column()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00052">SQLiteCommon.hpp:52</a></div></div>
<div class="ttc" id="classpdal_1_1column_html"><div class="ttname"><a href="classpdal_1_1column.html">pdal::column</a></div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00048">SQLiteCommon.hpp:48</a></div></div>
<div class="ttc" id="classpdal_1_1blob_html_a888922df3fc07b85ba01a1a2d03e8e7e"><div class="ttname"><a href="classpdal_1_1blob.html#a888922df3fc07b85ba01a1a2d03e8e7e">pdal::blob::blob</a></div><div class="ttdeci">blob(const char *buffer, std::size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00072">SQLiteCommon.hpp:72</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a331c1f2cf32cee0f99c22ae927f6d9b8"><div class="ttname"><a href="classpdal_1_1SQLite.html#a331c1f2cf32cee0f99c22ae927f6d9b8">pdal::SQLite::~SQLite</a></div><div class="ttdeci">~SQLite()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00141">SQLiteCommon.hpp:141</a></div></div>
<div class="ttc" id="namespacepdal_1_1Dimension_html_af3176b0b7e6b4be000317846cf7c2718"><div class="ttname"><a href="namespacepdal_1_1Dimension.html#af3176b0b7e6b4be000317846cf7c2718">pdal::Dimension::name</a></div><div class="ttdeci">std::string name(Id id)</div><div class="ttdef"><b>Definition:</b> <a href="Dimension_8hpp_source.html#l00462">Dimension.hpp:462</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a88c46ae45634b6d2edd827f99dd07c1d"><div class="ttname"><a href="classpdal_1_1SQLite.html#a88c46ae45634b6d2edd827f99dd07c1d">pdal::SQLite::m_columns</a></div><div class="ttdeci">std::map&lt; std::string, int32_t &gt; m_columns</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00560">SQLiteCommon.hpp:560</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a09e5c242ec5a58d5cb3334c3338cd926"><div class="ttname"><a href="classpdal_1_1SQLite.html#a09e5c242ec5a58d5cb3334c3338cd926">pdal::SQLite::SQLite</a></div><div class="ttdeci">SQLite(std::string const &amp;connection, LogPtr log)</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00126">SQLiteCommon.hpp:126</a></div></div>
<div class="ttc" id="namespacepdal_1_1Dimension_html_acf81dae9d5946f3a941f9df154b2329b"><div class="ttname"><a href="namespacepdal_1_1Dimension.html#acf81dae9d5946f3a941f9df154b2329b">pdal::Dimension::size</a></div><div class="ttdeci">std::size_t size(Type t)</div><div class="ttdef"><b>Definition:</b> <a href="DimUtil_8hpp_source.html#l00096">DimUtil.hpp:96</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_aafa53ed22800a7a76e71216a98d4b2f3"><div class="ttname"><a href="classpdal_1_1SQLite.html#aafa53ed22800a7a76e71216a98d4b2f3">pdal::SQLite::last_row_id</a></div><div class="ttdeci">int64_t last_row_id() const </div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00366">SQLiteCommon.hpp:366</a></div></div>
<div class="ttc" id="classpdal_1_1SQLite_html_a7fb604d74e3ceabf94595a68a2e11ef8"><div class="ttname"><a href="classpdal_1_1SQLite.html#a7fb604d74e3ceabf94595a68a2e11ef8">pdal::SQLite::getSpatialiteVersion</a></div><div class="ttdeci">std::string getSpatialiteVersion()</div><div class="ttdef"><b>Definition:</b> <a href="SQLiteCommon_8hpp_source.html#l00532">SQLiteCommon.hpp:532</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a542be5b8e919f24a4504a2b5a97aa0f.html">pdal</a></li><li class="navelem"><a class="el" href="dir_afa3ef11413a136c9ba1f7af288efe0d.html">plugins</a></li><li class="navelem"><a class="el" href="dir_7060e7895af0e1ebaa865a3c2ce6bc24.html">sqlite</a></li><li class="navelem"><a class="el" href="dir_d30bcadec901e5e140c5fc101d2f4d68.html">io</a></li><li class="navelem"><a class="el" href="SQLiteCommon_8hpp.html">SQLiteCommon.hpp</a></li>
    <li class="footer">Generated on Fri Dec 22 2017 14:52:59 for PDAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
